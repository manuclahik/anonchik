# üîê –ê–Ω–æ–Ω—ñ–º–Ω–∏–π Telegram –ë–æ—Ç

–ü–æ–≤–Ω—ñ—Å—Ç—é –∞–Ω–æ–Ω—ñ–º–Ω–∏–π –±–æ—Ç –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –ø–∏—Ç–∞–Ω—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–µ–∑ —Ä–æ–∑–∫—Ä–∏—Ç—Ç—è –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

## üåü –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:
- üì© –ó–∞–¥–∞—Ç–∏ –∞–Ω–æ–Ω—ñ–º–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è –æ–¥–Ω–∏–º –∫–ª—ñ–∫–æ–º
- ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é
- ‚úèÔ∏è –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è
- ‚ùå –ö–Ω–æ–ø–∫–∞ "–°–∫–∞—Å—É–≤–∞—Ç–∏" –Ω–∞ –±—É–¥—å-—è–∫–æ–º—É –µ—Ç–∞–ø—ñ
- üì® –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- üëçüëé –û—Ü—ñ–Ω–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (–∫–æ—Ä–∏—Å–Ω–æ/–Ω–µ –∫–æ—Ä–∏—Å–Ω–æ)
- ‚ÑπÔ∏è –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∞–Ω–æ–Ω—ñ–º–Ω—ñ—Å—Ç—å

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤:
- üîî –ú–∏—Ç—Ç—î–≤–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è
- ‚Ü©Ô∏è –í—ñ–¥–ø–æ–≤—ñ–¥—å –∫–Ω–æ–ø–∫–æ—é –∞–±–æ –∫–æ–º–∞–Ω–¥–æ—é `/reply ID`
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: `/stats` –∞–±–æ –∫–Ω–æ–ø–∫–∞ –≤ –ø–∞–Ω–µ–ª—ñ
- üìã –°–ø–∏—Å–æ–∫ –ø–∏—Ç–∞–Ω—å –±–µ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- üßπ –û—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö: `/cleanup`
- üë• –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫—ñ–ª—å–∫–æ—Ö –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤

### –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –∞–Ω–æ–Ω—ñ–º–Ω—ñ—Å—Ç—å:
- üö´ –ù–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è username, —ñ–º'—è, –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø—Ä–æ—Ñ—ñ–ª—å
- ‚è± –¢–µ—Ö–Ω—ñ—á–Ω–∏–π ID –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- üõ° Rate limit: 1 –ø–∏—Ç–∞–Ω–Ω—è —Ä–∞–∑ –Ω–∞ 30 —Å–µ–∫—É–Ω–¥ (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è)
- üîç –§—ñ–ª—å—Ç—Ä —Å–ø–∞–º—É —Ç–∞ –Ω–µ–¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö —Å–ª—ñ–≤
- üìù –õ–æ–≥—É–≤–∞–Ω–Ω—è –±–µ–∑ –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–æ—Ç–∞

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [@BotFather](https://t.me/BotFather)
2. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ `/newbot`
3. –í–∫–∞–∂—ñ—Ç—å —ñ–º'—è —Ç–∞ username –±–æ—Ç–∞
4. –°–∫–æ–ø—ñ—é–π—Ç–µ **—Ç–æ–∫–µ–Ω**

### 2. –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–≤—ñ–π Telegram ID

–í—ñ–¥–ø—Ä–∞–≤—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot) —Ç–∞ —Å–∫–æ–ø—ñ—é–π—Ç–µ –≤–∞—à **ID**.

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ö–ª–æ–Ω—É–π—Ç–µ –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª–∏
cd anonymous-bot

# –°–∫–æ–ø—ñ—é–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥
cp .env.example .env

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env
nano .env
```

–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —É `.env`:
```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–≤—ñ–¥_BotFather
ADMIN_IDS=–≤–∞—à_telegram_id
```

### 4. –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Python 3.11+
pip install -r requirements.txt

# –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å USE_WEBHOOK=false –≤ .env
python main.py
```

---

## ‚òÅÔ∏è –î–µ–ø–ª–æ–π –Ω–∞ —Ö–º–∞—Ä—É

### Railway (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ ‚Äî –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ)

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å –Ω–∞ [railway.app](https://railway.app)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New Project"** ‚Üí **"Deploy from GitHub"**
3. –ê–±–æ: **"Deploy from CLI"**:
   ```bash
   npm install -g @railway/cli
   railway login
   railway init
   railway up
   ```
4. –£ Railway Dashboard ‚Üí **Variables** –¥–æ–¥–∞–π—Ç–µ:
   - `BOT_TOKEN` = –≤–∞—à —Ç–æ–∫–µ–Ω
   - `ADMIN_IDS` = –≤–∞—à ID
   - `USE_WEBHOOK` = `true`
   - `WEBHOOK_URL` = URL –≤–∞—à–æ–≥–æ Railway –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `https://your-app.up.railway.app`)

### Render

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å –Ω–∞ [render.com](https://render.com)
2. **New** ‚Üí **Web Service** ‚Üí –ø—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
   - **Runtime**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python main.py`
4. –£ **Environment Variables** –¥–æ–¥–∞–π—Ç–µ —Ç—ñ —Å–∞–º—ñ –∑–º—ñ–Ω–Ω—ñ —â–æ —ñ –¥–ª—è Railway

### Docker (–±—É–¥—å-—è–∫–∏–π —Å–µ—Ä–≤–µ—Ä)

```bash
# –ó–±–µ—Ä—ñ—Ç—å –æ–±—Ä–∞–∑
docker build -t anon-bot .

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å
docker run -d \
  --name anon-bot \
  --env-file .env \
  -p 8080:8080 \
  --restart unless-stopped \
  anon-bot
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (.env)

| –ó–º—ñ–Ω–Ω–∞ | –û–±–æ–≤'—è–∑–∫–æ–≤–æ | –û–ø–∏—Å | –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º |
|--------|------------|------|-----------------|
| `BOT_TOKEN` | ‚úÖ | –¢–æ–∫–µ–Ω –≤—ñ–¥ @BotFather | ‚Äî |
| `ADMIN_IDS` | ‚úÖ | ID –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ —á–µ—Ä–µ–∑ –∫–æ–º—É | ‚Äî |
| `USE_WEBHOOK` | | true/false | `false` |
| `WEBHOOK_URL` | –ü—Ä–∏ –≤–µ–±—Ö—É–∫—É | URL —Å–µ—Ä–≤–µ—Ä–∞ | ‚Äî |
| `WEBHOOK_PORT` | | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | `8080` |
| `RATE_LIMIT_SECONDS` | | –ú—ñ–∂ –ø–∏—Ç–∞–Ω–Ω—è–º–∏ (—Å–µ–∫) | `30` |
| `MAX_QUESTION_LENGTH` | | –ú–∞–∫—Å. —Å–∏–º–≤–æ–ª—ñ–≤ | `1000` |
| `SPAM_WORDS` | | –ó–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∫–æ–º—É | ‚Äî |
| `ANSWERS_CHANNEL_ID` | | ID –∫–∞–Ω–∞–ª—É –¥–ª—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ–π | ‚Äî |
| `DB_PATH` | | –®–ª—è—Ö –¥–æ SQLite | `bot_data.db` |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
anonymous-bot/
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ config.py               # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–∞ —Ç–µ–∫—Å—Ç–∏
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ railway.toml
‚îú‚îÄ‚îÄ render.yaml
‚îú‚îÄ‚îÄ .env.example
‚îÇ
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ä–æ—É—Ç–µ—Ä—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ user.py             # –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ admin.py            # –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤
‚îÇ
‚îú‚îÄ‚îÄ middlewares/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ throttling.py       # –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Ñ–ª—É–¥—É
‚îÇ   ‚îî‚îÄ‚îÄ logging.py          # –ê–Ω–æ–Ω—ñ–º–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ database.py         # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îî‚îÄ‚îÄ spam_filter.py      # –§—ñ–ª—å—Ç—Ä —Å–ø–∞–º—É
‚îÇ
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ keyboards.py         # –í—Å—ñ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
    ‚îú‚îÄ‚îÄ states.py            # FSM —Å—Ç–∞–Ω–∏
    ‚îî‚îÄ‚îÄ filters.py           # –§—ñ–ª—å—Ç—Ä–∏ (IsAdmin)
```

---

## üõ° –Ø–∫ –ø—Ä–∞—Ü—é—î –∞–Ω–æ–Ω—ñ–º–Ω—ñ—Å—Ç—å

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á               –ë–æ—Ç                    –ê–¥–º—ñ–Ω
    ‚îÇ                     ‚îÇ                       ‚îÇ
    ‚îÇ‚îÄ‚îÄ –ü–∏—Ç–∞–Ω–Ω—è ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ                       ‚îÇ
    ‚îÇ                     ‚îÇ –ì–µ–Ω–µ—Ä—É—î request_id     ‚îÇ
    ‚îÇ                     ‚îÇ –ó–±–µ—Ä—ñ–≥–∞—î: user_id +    ‚îÇ
    ‚îÇ                     ‚îÇ request_id + –ø–∏—Ç–∞–Ω–Ω—è   ‚îÇ
    ‚îÇ                     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ –ü–∏—Ç–∞–Ω–Ω—è + ID ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ
    ‚îÇ                     ‚îÇ                       ‚îÇ
    ‚îÇ                     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ –í—ñ–¥–ø–æ–≤—ñ–¥—å + ID ‚îÄ‚îÄ‚îÄ‚îÇ
    ‚îÇ                     ‚îÇ                       ‚îÇ
    ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ –í—ñ–¥–ø–æ–≤—ñ–¥—å ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                       ‚îÇ
    ‚îÇ     (–±–µ–∑ ID –∞–¥–º—ñ–Ω–∞) ‚îÇ                       ‚îÇ
    ‚îÇ                     ‚îÇ –í–ò–î–ê–õ–Ø–Ñ user_id        ‚îÇ
    ‚îÇ                     ‚îÇ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö           ‚îÇ
```

**–©–æ –∞–¥–º—ñ–Ω –±–∞—á–∏—Ç—å:** –¢—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç –ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –∞–Ω–æ–Ω—ñ–º–Ω–∏–π ID (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `A3F2B1C4`)

**–©–æ –∞–¥–º—ñ–Ω –ù–ï –±–∞—á–∏—Ç—å:** Username, —ñ–º'—è, Telegram ID, –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø—Ä–æ—Ñ—ñ–ª—å

---

## ü§ñ –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

### –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:
- `/start` ‚Äî –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é

### –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤:
- `/admin` ‚Äî –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
- `/reply REQUEST_ID` ‚Äî –í—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è
- `/stats` ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `/cleanup` ‚Äî –û—á–∏—Å—Ç–∏—Ç–∏ —Å—Ç–∞—Ä—ñ –¥–∞–Ω—ñ

---

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–ª—å–Ω–æ –¥–ª—è –±—É–¥—å-—è–∫–∏—Ö —Ü—ñ–ª–µ–π.
